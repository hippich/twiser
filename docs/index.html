<!DOCTYPE html>

<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>index.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/* eslint no-underscore-dangle: 0, handle-callback-err: 0, camelcase: 0 */</span>
<span class="hljs-keyword">var</span> debug = <span class="hljs-built_in">require</span>(<span class="hljs-string">'debug'</span>)(<span class="hljs-string">'twiser'</span>);
<span class="hljs-keyword">var</span> webdriverio = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webdriverio'</span>);
<span class="hljs-keyword">var</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);

<span class="hljs-keyword">var</span> Tweet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./tweet'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p><strong>Client class</strong></p>
<p>Sample usage:</p>
<pre><code>   <span class="hljs-keyword">var</span> Client = <span class="hljs-built_in">require</span>(<span class="hljs-string">'twiser'</span>);

   <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> Client({
     username: <span class="hljs-string">'joe'</span>,
     password: <span class="hljs-string">'passx123'</span>
   });

   client.api.login()
             .setNewPassword(<span class="hljs-string">'qwe123qwe'</span>)
             .url(<span class="hljs-string">'https://twitter.com/search?f=realtime&amp;q=football&amp;src=typd'</span>);

   client.stream(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tweet)</span> </span>{
     <span class="hljs-built_in">console</span>.log(tweet.text);
   });
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> Client = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span> </span>{
    <span class="hljs-keyword">this</span>.options = _.extend({
        username: <span class="hljs-literal">false</span>,
        password: <span class="hljs-literal">false</span>,
        remoteOptions: {
            desiredCapabilities: {
                browser: <span class="hljs-string">'chrome'</span>
            }
        }
    }, options);

    <span class="hljs-keyword">this</span>.streaming = {
        streamInterval : <span class="hljs-literal">null</span>,
        seenTweetIds   : [],
        status         : <span class="hljs-string">'stopped'</span>
    };

    <span class="hljs-keyword">var</span> remoteOptions = _.extend({
        desiredCapabilities: {
            browser: <span class="hljs-string">'chrome'</span>
        }
    }, <span class="hljs-keyword">this</span>.options.remoteOptions);

    <span class="hljs-keyword">var</span> addonCommands = <span class="hljs-keyword">this</span>.api;
    <span class="hljs-keyword">var</span> api = <span class="hljs-keyword">this</span>.api = webdriverio.remote(remoteOptions).init();
    <span class="hljs-keyword">this</span>.api._client = <span class="hljs-keyword">this</span>;

    _.forOwn(addonCommands, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(handler, command)</span> </span>{
        api.addCommand(command, handler);
    });
};

<span class="hljs-keyword">var</span> api = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p><strong>Login using username/password</strong></p>
<p>Open /login page and try to login with supplied username/password</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.login = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">this</span>._client;

    <span class="hljs-keyword">if</span> (!client.options.username || !client.options.password) {
        <span class="hljs-keyword">return</span> cb( <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Login requested, but no username/password provided'</span>) );
    }

    <span class="hljs-keyword">this</span>.url(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) {
                <span class="hljs-keyword">return</span> cb(err);
            }

            <span class="hljs-keyword">if</span> (! res.value.match(<span class="hljs-regexp">/^https\:\/\/twitter\.com\/login/i</span>) ) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.url(<span class="hljs-string">'https://twitter.com/login'</span>);
            }
        })
        .title(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) {
                <span class="hljs-keyword">return</span> cb(err);
            }

            <span class="hljs-keyword">var</span> title = res.value;

            <span class="hljs-keyword">if</span> (title.match(<span class="hljs-regexp">/login/i</span>)) {
                debug(<span class="hljs-string">'Logging in with username: %s and password: %s'</span>, client.options.username, client.options.password);

                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.setValue(<span class="hljs-string">'#page-container .js-username-field'</span>, client.options.username)
                           .setValue(<span class="hljs-string">'#page-container .js-password-field'</span>, client.options.password)
                           .click(<span class="hljs-string">'#page-container button.submit'</span>);
            }
            <span class="hljs-keyword">else</span> {
                debug(<span class="hljs-string">'Already logged in'</span>);
            }
        })
        .url(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) {
                <span class="hljs-keyword">return</span> cb(err);
            }

            <span class="hljs-keyword">var</span> url = res.value;

            <span class="hljs-keyword">if</span> (url.match(<span class="hljs-regexp">/login\/error/i</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getText(<span class="hljs-string">'.message-text'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
                    <span class="hljs-keyword">if</span> (err) {
                        <span class="hljs-keyword">return</span> cb(err);
                    }

                    <span class="hljs-keyword">return</span> cb( <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unable to login. Reason: '</span> + text) );
                });
            }

            <span class="hljs-keyword">return</span> cb(<span class="hljs-literal">null</span>);
        });
};</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p><strong>Logout</strong></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.logout = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.url(<span class="hljs-string">'https://twitter.com/logout'</span>)
        .click(<span class="hljs-string">'.signout-wrapper button.primary-btn'</span>)
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p><strong>Change account password</strong></p>
<p>Login, open password settings page, fill form to change password and press submit.
It will automaticaly update current client’s password to new one.</p>
<p>Pass new password:</p>
<pre><code>client.api.setNewPassword(<span class="hljs-string">'asd123asd'</span>);
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>api.setNewPassword = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newPassword, cb)</span> </span>{
    <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">this</span>._client;

    debug(<span class="hljs-string">'Changing password. Old: %s, New: %s'</span>, client.options.password, newPassword);

    <span class="hljs-keyword">this</span>.url(<span class="hljs-string">'https://twitter.com/settings/password'</span>)
        .title(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) {
                <span class="hljs-keyword">return</span> cb(err);
            }

            <span class="hljs-keyword">if</span> (res.value.match(<span class="hljs-regexp">/login/i</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.login();
            }

            <span class="hljs-keyword">if</span> (! res.value.match(<span class="hljs-regexp">/settings/i</span>)) {
                <span class="hljs-keyword">return</span> cb( <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Not sure where I ended up :('</span>) );
            }
        })
        .setValue(<span class="hljs-string">'#current_password'</span>, client.options.password)
        .setValue(<span class="hljs-string">'#user_password'</span>, newPassword)
        .setValue(<span class="hljs-string">'#user_password_confirmation'</span>, newPassword)
        .click(<span class="hljs-string">'#settings_save'</span>)
        .url(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) {
                <span class="hljs-keyword">return</span> cb(err);
            }

            <span class="hljs-keyword">if</span> (res.value !== <span class="hljs-string">'https://twitter.com/settings/passwords/password_reset_confirmation'</span>) {
                debug(<span class="hljs-string">'Password did not change successfuly'</span>);

                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
                    .getText(<span class="hljs-string">'#settings-alert-box h4'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
                        debug(<span class="hljs-string">'got text'</span>);

                        <span class="hljs-keyword">if</span> (err) {
                            <span class="hljs-keyword">return</span> cb(err);
                        }

                        <span class="hljs-keyword">return</span> cb( <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unable to change password: '</span> + text) );
                    })
                ;
            }

            <span class="hljs-keyword">this</span>._client.options.password = newPassword;

            <span class="hljs-keyword">return</span> cb(<span class="hljs-literal">null</span>);
        });
};</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p><strong>Shutdown</strong></p>
<p>Call to close all browser windows. Do it before exit, as browsers will not be closed automaticaly.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.shutdown = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.end();
    cb(<span class="hljs-literal">null</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p><strong>Open profile page</strong></p>
<p>Using supplied <code>profile</code> parameter, open profile page for this user. If <code>profile</code> is not specified,
opens own profile page.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.goToProfile = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(profile, cb)</span> </span>{
    <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">this</span>._client;

    <span class="hljs-keyword">if</span> (! cb) {
        cb = profile;
        profile = <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">var</span> id = profile || client.options.username;

    <span class="hljs-keyword">if</span> (! id) {
        <span class="hljs-keyword">return</span> cb(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'No username available'</span>));
    }

    <span class="hljs-keyword">var</span> url = <span class="hljs-string">'https://twitter.com/'</span> + id;

    debug(<span class="hljs-string">'Checking if we are already on profile page: %s'</span>, url);

    <span class="hljs-keyword">this</span>.url(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) {
                <span class="hljs-keyword">return</span> cb(err);
            }

            <span class="hljs-keyword">if</span> (res.value !== url) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.url(url);
            }
        })
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p><strong>Edit profile</strong></p>
<p>Logs in, open profile page and click <code>Edit</code> button. Used to begin changes in profile info.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.editProfile = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.login()
        .goToProfile()
        .click(<span class="hljs-string">'[data-scribe-element="profile_edit_button"]'</span>)
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p><strong>Save profile</strong></p>
<p>Clicks Save button. This usually called once you are done changing profile.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.saveProfile = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.click(<span class="hljs-string">'.ProfilePage-saveButton'</span>)
        .getActionMessage(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
            <span class="hljs-keyword">if</span> (err) { <span class="hljs-keyword">return</span> cb(err); }

            <span class="hljs-keyword">if</span> (text &amp;&amp; text.indexOf(<span class="hljs-string">'Your profile has been saved.'</span>) === -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">return</span> cb(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unable to save profile info: '</span> + text));
            }
        })
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p><strong>Get action message</strong></p>
<p>If some action produce message, you can use this action to retrieve it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.getActionMessage = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.getText(<span class="hljs-string">'.message-text'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
            <span class="hljs-keyword">if</span> (err) { <span class="hljs-keyword">return</span> cb(err); }

            <span class="hljs-keyword">if</span> (text) {
                debug(<span class="hljs-string">'Got message: %s'</span>, text);
                <span class="hljs-keyword">return</span> cb(<span class="hljs-literal">null</span>, text);
            }

            cb(<span class="hljs-literal">null</span>);
        });
};</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p><strong>Get profile info</strong></p>
<p>Return object with profile information:</p>
<pre><code><span class="hljs-string">"profile"</span>: {
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"John Doe"</span>,
  <span class="hljs-string">"bio"</span>: <span class="hljs-string">"Bio line from profile"</span>,
  <span class="hljs-string">"location"</span>: <span class="hljs-string">"London, UK"</span>,
  <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://google.com/"</span>
}
</code></pre><p>Sample usage:</p>
<pre><code>client.api.getProfileInfo(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, info)</span> </span>{
  <span class="hljs-built_in">console</span>.log(info.name);
});
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>api.getProfileInfo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">var</span> profile = {
        name     : <span class="hljs-string">''</span>,
        bio      : <span class="hljs-string">''</span>,
        location : <span class="hljs-string">''</span>,
        url      : <span class="hljs-string">''</span>
    };

    <span class="hljs-keyword">this</span>.goToProfile()
        .getText(<span class="hljs-string">'.ProfileHeaderCard-nameLink'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
            profile.name = text;
        })
        .getText(<span class="hljs-string">'.ProfileHeaderCard-bio'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
            profile.bio = text;
        })
        .getText(<span class="hljs-string">'.ProfileHeaderCard-locationText'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
            profile.location = text;
        })
        .getAttribute(<span class="hljs-string">'.ProfileHeaderCard-urlText a'</span>, <span class="hljs-string">'title'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, title)</span> </span>{
            profile.url = title;
        })
        .call(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            cb(<span class="hljs-literal">null</span>, profile);
        });
};</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p><strong>Set profile info</strong></p>
<p>Set information on user profile. Pass following object as a first parameter:</p>
<pre><code><span class="hljs-string">"profile"</span>: {
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"James Bond"</span>,
  <span class="hljs-string">"bio"</span>: <span class="hljs-string">"Agent 007"</span>,
  <span class="hljs-string">"location"</span>: <span class="hljs-string">"Paris, FR"</span>,
  <span class="hljs-string">"url"</span>: <span class="hljs-string">""</span>
}
</code></pre><p>Make sure to be on a profile page, and click ‘Edit’ button first.</p>
<p>Sample usage:</p>
<pre><code>client.api.login()
client.api.goToProfile()
client.api.editProfile()
client.api.setProfileInfo({
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"James Bond"</span>,
  <span class="hljs-string">"bio"</span>: <span class="hljs-string">"Agent 007"</span>,
  <span class="hljs-string">"location"</span>: <span class="hljs-string">"Paris, FR"</span>,
  <span class="hljs-string">"url"</span>: <span class="hljs-string">""</span>
});
client.api.saveProfile()
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>api.setProfileInfo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(profile, cb)</span> </span>{
    debug(<span class="hljs-string">'Setting profile info: %j'</span>, profile);

    <span class="hljs-keyword">if</span> (profile.name) {
        <span class="hljs-keyword">this</span>.setValue(<span class="hljs-string">'#user_name'</span>, profile.name);
    }

    <span class="hljs-keyword">if</span> (profile.bio) {
        <span class="hljs-keyword">this</span>.setValue(<span class="hljs-string">'#user_description'</span>, profile.bio);
    }

    <span class="hljs-keyword">if</span> (profile.location) {
        <span class="hljs-keyword">this</span>.setValue(<span class="hljs-string">'#user_location'</span>, profile.location);
    }

    <span class="hljs-keyword">if</span> (profile.url) {
        <span class="hljs-keyword">this</span>.setValue(<span class="hljs-string">'#user_url'</span>, profile.url);
    }

    <span class="hljs-keyword">this</span>.call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p><strong>Post Update</strong></p>
<p>Post tweet. Supply following object:</p>
<pre><code> client.api.postUpdate({
   <span class="hljs-string">"post"</span>: <span class="hljs-string">"Hello, this is my #twitter post"</span>,
   <span class="hljs-string">"inreply"</span>: <span class="hljs-string">"2532523523523523"</span>, <span class="hljs-comment">// Optional tweet_id of the post to reply to</span>
   <span class="hljs-string">"image"</span>: <span class="hljs-string">"/home/joe/images/cat.jpg"</span> <span class="hljs-comment">// Optional path to the image to include in the tweet</span>
 });
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>api.postUpdate = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(update, cb)</span> </span>{
    <span class="hljs-keyword">if</span> (_.isString(update)) {
        update = {
            post: update
        };
    }

    <span class="hljs-keyword">this</span>.login();

    <span class="hljs-keyword">var</span> selectorPrefix = <span class="hljs-string">'.timeline-tweet-box form'</span>;

    <span class="hljs-keyword">if</span> (update.inreply) {
        selectorPrefix = <span class="hljs-string">'.inline-reply-tweetbox'</span>;
        <span class="hljs-keyword">this</span>.goToStatus(update.inreply);
    }


    <span class="hljs-keyword">this</span>.click(selectorPrefix + <span class="hljs-string">' .tweet-box'</span>)
        .keys(_.repeat(<span class="hljs-string">"\b"</span>, <span class="hljs-number">140</span>))
        .keys(update.post);

    <span class="hljs-keyword">if</span> (update.image) {
        <span class="hljs-keyword">this</span>.chooseFile(selectorPrefix + <span class="hljs-string">' .file-input[type=file]'</span>, update.image)
            .waitFor(selectorPrefix + <span class="hljs-string">' .previews .preview'</span>)
            .pause(<span class="hljs-number">1000</span>);
    }

    <span class="hljs-keyword">this</span>.scroll(selectorPrefix + <span class="hljs-string">' .Icon--tweet'</span>)
        .click(selectorPrefix + <span class="hljs-string">' .Icon--tweet'</span>)
        .getActionMessage(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, text)</span> </span>{
            <span class="hljs-keyword">if</span> (text &amp;&amp; !text.match(<span class="hljs-regexp">/Your tweet.+has been sent\!/</span>)) {
                <span class="hljs-keyword">return</span> cb(<span class="hljs-string">'Unable to post update: '</span> + text);
            }
        })
        .waitFor(<span class="hljs-string">"//div[contains(concat(' ',normalize-space(@class),' '),' my-tweet ')]//span[contains(text(), 'now')]"</span>, <span class="hljs-number">10000</span>)
        .getAttribute(<span class="hljs-string">'.stream-container .my-tweet'</span>, <span class="hljs-string">'data-tweet-id'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, ids)</span> </span>{
            <span class="hljs-keyword">var</span> id;

            <span class="hljs-keyword">if</span> (err) { <span class="hljs-keyword">return</span> cb(err); }

            <span class="hljs-keyword">if</span> (! _.isArray(ids)) {
                id = ids;
            }
            <span class="hljs-keyword">else</span> {
                id = ids.shift();
            }

            debug(<span class="hljs-string">'New tweet posted. Id %s'</span>, id);

            cb(<span class="hljs-literal">null</span>, id);
        });
};</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p><strong>Delete tweet</strong></p>
<p>Pass <code>id</code> to delete tweet with <code>tweet_id</code> == <code>id</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.deleteTweet = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(id, cb)</span> </span>{
    <span class="hljs-keyword">this</span>.goToStatus(id)
        .click(<span class="hljs-string">'[data-item-id="'</span> + id + <span class="hljs-string">'"] .ProfileTweet-action--more .ProfileTweet-actionButton'</span>)
        .click(<span class="hljs-string">'[data-item-id="'</span> + id + <span class="hljs-string">'"] li.js-actionDelete button'</span>)
        .click(<span class="hljs-string">'#delete-tweet-dialog .delete-action'</span>)
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p><strong>Go to status</strong></p>
<p>Opens specific tweet page</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.goToStatus = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(id, cb)</span> </span>{
    <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">this</span>._client;

    <span class="hljs-keyword">this</span>.url(<span class="hljs-string">'https://twitter.com/'</span> + client.options.username + <span class="hljs-string">'/status/'</span> + id)
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p><strong>Go to notification settings</strong></p>
<p>Opens /settings/notifications page</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.goToNotificationsSettings = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.login()
        .url(<span class="hljs-string">'https://twitter.com/settings/notifications'</span>)
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p><strong>Turn off email notifications</strong></p>
<p>Allows you to turn off all email communication from twitter for this account</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.turnOffEmailNotifications = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.goToNotificationsSettings()
        .isExisting(<span class="hljs-string">'#notifications-global-off'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) { cb(err); }

            <span class="hljs-keyword">if</span> (! res) {
                debug(<span class="hljs-string">'Notifications already turned off'</span>);
                <span class="hljs-keyword">return</span> cb(<span class="hljs-literal">null</span>);
            }

            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.click(<span class="hljs-string">'#notifications-global-off'</span>);
        })
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p><strong>Turn on email notifications</strong></p>
<p>Allows you to turn on enabled email communication for this twitter account.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.turnOnEmailNotifications = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(cb)</span> </span>{
    <span class="hljs-keyword">this</span>.goToNotificationsSettings()
        .isExisting(<span class="hljs-string">'#notifications-global-on'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
            <span class="hljs-keyword">if</span> (err) { cb(err); }

            <span class="hljs-keyword">if</span> (! res) {
                debug(<span class="hljs-string">'Notifications already turned on'</span>);
                <span class="hljs-keyword">return</span> cb(<span class="hljs-literal">null</span>);
            }

            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.click(<span class="hljs-string">'#notifications-global-on'</span>);
        })
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p><strong>Change notification settings</strong></p>
<p>Allows to turn on/off individual emails</p>
<p>Following types are available:</p>
<ul>
<li>send_favorited_email</li>
<li>send_favorited_mention_email</li>
<li>send_retweeted_email</li>
<li>send_retweeted_mention_email</li>
<li>send_mention_email</li>
<li>send_new_friend_email</li>
<li>send_new_direct_text_email</li>
<li>send_shared_tweet_e</li>
<li>mailsend_address_book_notification_email</li>
<li>send_favorited_retweet_email</li>
<li>send_retweeted_retweet_email</li>
<li>network_digest_schedule</li>
<li>send_network_activity_email</li>
<li>performance_digest_schedulesend_magic_recs_e</li>
<li>mail’ +</li>
<li>send_email_newsletter</li>
<li>send_activation_email</li>
<li>send_resurrection_email_1</li>
<li>send_partner_email</li>
<li>send_survey_emailsend_follow_recs_email</li>
<li>send_similar_people_email</li>
</ul>
<p>Example:</p>
<pre><code> client.api.changeNotificationsSettings({
   send_favorited_email: <span class="hljs-literal">true</span>, <span class="hljs-comment">// Turn on 'Favorited' emails</span>
   sent_retweeted_email: <span class="hljs-literal">false</span> <span class="hljs-comment">// Turn off 'Retweeted' emails</span>
 });
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>api.changeNotificationsSettings = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(settings, cb)</span> </span>{
    <span class="hljs-keyword">var</span> api = <span class="hljs-keyword">this</span>;

    <span class="hljs-keyword">this</span>.goToNotificationsSettings();

    <span class="hljs-keyword">if</span> (! _.isObject(settings)) {
        <span class="hljs-keyword">return</span> cb(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'`settings` should be object with following possibble options: '</span> +
                            <span class="hljs-string">'send_favorited_email,send_favorited_mention_email,send_retweeted_email,'</span> +
                            <span class="hljs-string">'send_retweeted_mention_email,send_mention_email,send_new_friend_email,'</span> +
                            <span class="hljs-string">'send_new_direct_text_email,send_shared_tweet_email,send_address_book_notification_email,'</span> +
                            <span class="hljs-string">'send_favorited_retweet_email,send_retweeted_retweet_email,network_digest_schedule,'</span> +
                            <span class="hljs-string">'send_network_activity_email,performance_digest_schedule,send_magic_recs_email,'</span> +
                            <span class="hljs-string">'send_email_newsletter,send_activation_email,send_resurrection_email_1,'</span> +
                            <span class="hljs-string">'send_partner_email,send_survey_email,send_follow_recs_email,send_similar_people_email'</span>));
    }

    <span class="hljs-keyword">var</span> res = _.forOwn(settings, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v, k)</span> </span>{
        api.getAttribute(<span class="hljs-string">'#'</span> + k, <span class="hljs-string">'checked'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, value)</span> </span>{
            <span class="hljs-keyword">if</span> (err) { cb(err); <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }

            <span class="hljs-keyword">if</span> ((value &amp;&amp; !v) || (!value &amp;&amp; v)) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.click(<span class="hljs-string">'#'</span> + k);
            }
        });
    });

    <span class="hljs-keyword">if</span> (! res) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    api.click(<span class="hljs-string">'#settings_save'</span>)
       .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p><strong>Follow/Unfollow</strong></p>
<p>Specify action <code>follow</code> or <code>unfollow</code> to follow/unfollow user specified by user_id.
<code>user_id</code> can be both screen_name or twitter user_id.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.followAction = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(action, user_id, cb)</span> </span>{
    <span class="hljs-keyword">var</span> url;

    <span class="hljs-keyword">if</span> (_.isNumber(user_id) || (_.isString(user_id) &amp;&amp; user_id.match(<span class="hljs-regexp">/^\d+$/</span>))) {
        url = <span class="hljs-string">'https://twitter.com/intent/user?user_id='</span> + user_id;
    }
    <span class="hljs-keyword">else</span> {
        url = <span class="hljs-string">'https://twitter.com/intent/user?screen_name='</span> + user_id;
    }

    <span class="hljs-keyword">this</span>.url(url)
        .isVisible(<span class="hljs-string">'form.'</span> + action, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, visible)</span> </span>{
            <span class="hljs-keyword">if</span> (err) {
                <span class="hljs-keyword">return</span> cb(err);
            }

            <span class="hljs-keyword">if</span> (visible) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.click(<span class="hljs-string">'form.'</span> + action + <span class="hljs-string">' button'</span>);
            }
        })
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p><strong>Follow</strong></p>
<p>Follows user specified by user_id. <code>user_id</code> can be either numeric user_id, or screen_name</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.follow = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(user_id, cb)</span> </span>{
    <span class="hljs-keyword">this</span>.followAction(<span class="hljs-string">'follow'</span>, user_id)
        .call(cb);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p><strong>Unfollow</strong></p>
<p>Unfollows user specified by user_id. <code>user_id</code> can be either numeric user_id, or screen_name</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>api.unfollow = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(user_id, cb)</span> </span>{
    <span class="hljs-keyword">this</span>.followAction(<span class="hljs-string">'unfollow'</span>, user_id)
        .call(cb);
};

Client.prototype.api = api;</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p><strong>Streaming</strong></p>
<p>This method allows to stream tweets in realtime while on <code>streamable</code> pages.
<code>Streamable</code> pages include: logged in home page, Discover page and Search results page.</p>
<p>You need first to open <code>streamable</code> page and then call <code>client.stream(opts);</code>. Notice,
that this is not <code>.api</code> method, but rather <code>client</code> method.</p>
<p>Following options are available:</p>
<pre><code>  client.api.url(<span class="hljs-string">'https://twitter.com/search?f=realtime&amp;q=js&amp;src=typd'</span>);
  client.stream({
    timeout: <span class="hljs-number">10000</span>, <span class="hljs-comment">// Optional, interval in ms between check for new tweets. Default: 15000 (15 seconds)</span>
                    <span class="hljs-comment">// There is no reason to make it too small, as new tweets appear about once every 30 seconds.</span>
    cb: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tweet)</span> </span>{ <span class="hljs-comment">// This callback will be called with new tweet</span>
      <span class="hljs-built_in">console</span>.log(tweet.user.id);
    }
  });
</code></pre><p>Here is example of tweet object:</p>
<pre><code>    {
        <span class="hljs-string">"id_str"</span>: <span class="hljs-string">"567646576014008320"</span>,
        <span class="hljs-string">"id"</span>: <span class="hljs-string">"567646576014008320"</span>,
        <span class="hljs-string">"created_at"</span>: <span class="hljs-string">"2015-02-17T11:27:44.000Z"</span>,
        <span class="hljs-string">"text"</span>: <span class="hljs-string">"Java vs. Node.js: An epic battle for developer mind share http://ift.tt/1Az9Z4l  ===== http://androidanalytic.com "</span>,
        <span class="hljs-string">"html"</span>: <span class="hljs-string">"Java vs. Node.&lt;strong&gt;js&lt;/strong&gt;: An epic battle for developer mind share &lt;a href=\"http://t.co/6eLpH0178e\" rel=\"nofollow\" dir=\"ltr\" data-expanded-url=\"http://ift.tt/1Az9Z4l\" class=\"twitter-timeline-link\" target=\"_blank\" title=\"http://ift.tt/1Az9Z4l\"&gt;&lt;span class=\"tco-ellipsis\"&gt;&lt;/span&gt;&lt;span class=\"invisible\"&gt;http://&lt;/span&gt;&lt;span class=\"js-display-url\"&gt;ift.tt/1Az9Z4l&lt;/span&gt;&lt;span class=\"invisible\"&gt;&lt;/span&gt;&lt;span class=\"tco-ellipsis\"&gt;&lt;span class=\"invisible\"&gt;&amp;#xA0;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt; ===== &lt;a href=\"http://t.co/tOpip4QwzM\" rel=\"nofollow\" dir=\"ltr\" data-expanded-url=\"http://androidanalytic.com\" class=\"twitter-timeline-link\" target=\"_blank\" title=\"http://androidanalytic.com\"&gt;&lt;span class=\"tco-ellipsis\"&gt;&lt;/span&gt;&lt;span class=\"invisible\"&gt;http://&lt;/span&gt;&lt;span class=\"js-display-url\"&gt;androidanalytic.com&lt;/span&gt;&lt;span class=\"invisible\"&gt;&lt;/span&gt;&lt;span class=\"tco-ellipsis\"&gt;&lt;span class=\"invisible\"&gt;&amp;#xA0;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;"</span>,
        <span class="hljs-string">"retweeted"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">"is_reply"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">"user_mentions"</span>: [<span class="hljs-string">""</span>],
        <span class="hljs-string">"user"</span>: {
            <span class="hljs-string">"id_str"</span>: <span class="hljs-string">"2780229181"</span>,
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"2780229181"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Android Analytics"</span>,
            <span class="hljs-string">"screen_name"</span>: <span class="hljs-string">"AndroidAnalytic"</span>,
            <span class="hljs-string">"lang"</span>: <span class="hljs-string">"en"</span>
        }
    }
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>Client.prototype.stream = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(options)</span> </span>{
    <span class="hljs-keyword">this</span>.stopStream();

    <span class="hljs-keyword">this</span>.streaming.options = _.extend({
        timeout : <span class="hljs-number">15000</span>,
        cb      : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tweet)</span> </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Tweet: %j'</span>, tweet); }
    }, options);

    <span class="hljs-keyword">this</span>.streaming.status = <span class="hljs-string">'running'</span>;

    <span class="hljs-keyword">this</span>.streamCycle();
    <span class="hljs-keyword">this</span>.streaming.streamInterval = setInterval(<span class="hljs-keyword">this</span>.streamCycle.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.streaming.options.timeout);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>This method get called to check for new tweets</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Client.prototype.streamCycle = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> client = <span class="hljs-keyword">this</span>;
    <span class="hljs-keyword">var</span> api = <span class="hljs-keyword">this</span>.api;

    api.isExisting(<span class="hljs-string">'.new-tweets-bar'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
        <span class="hljs-keyword">if</span> (!err &amp;&amp; res) {
            <span class="hljs-keyword">return</span> api.click(<span class="hljs-string">'.new-tweets-bar'</span>);
        }
    });

    api.getHTML(<span class="hljs-string">'.stream .stream-items .stream-item .tweet'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(err, res)</span> </span>{
        <span class="hljs-keyword">if</span> (! _.isArray(res)) {
            res = [res];
        }

        res.reverse().forEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(item)</span> </span>{
            <span class="hljs-keyword">var</span> tweet = <span class="hljs-keyword">new</span> Tweet(item);

            <span class="hljs-keyword">if</span> (client.streaming.seenTweetIds.indexOf(tweet.id) &gt; -<span class="hljs-number">1</span>) {
                <span class="hljs-keyword">return</span>;
            }

            client.streaming.seenTweetIds.push( tweet.id );
            client.streaming.options.cb.call(<span class="hljs-keyword">this</span>, tweet);
        }.bind(<span class="hljs-keyword">this</span>));
    });
};</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p><strong>Pause streaming</strong></p>
<p>If you need to react on tweet, update account or do something else, you need to pause streaming.
Calling <code>.pauseStream</code> will open new window to keep streaming page intact.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Client.prototype.pauseStream = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.streaming.status = <span class="hljs-string">'paused'</span>;
    <span class="hljs-keyword">this</span>.streaming.streamInterval = clearInterval(<span class="hljs-keyword">this</span>.streaming.streamInterval);
    <span class="hljs-keyword">this</span>.api.newWindow(<span class="hljs-string">'about:blank'</span>, <span class="hljs-string">'temp'</span>);
};</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p><strong>Resume streaming</strong></p>
<p>Once you are ready to continue streaming (finished replying to a tweet for example), call <code>.resumeStream()</code>.
This will close popup and return back to streaming page, and re-start streaming.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Client.prototype.resumeStream = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.streaming.status = <span class="hljs-string">'running'</span>;
    <span class="hljs-keyword">this</span>.api
        .window()
        .switchTab()
        .call(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">this</span>.streamCycle();
            <span class="hljs-keyword">this</span>.streaming.streamInterval = setInterval(<span class="hljs-keyword">this</span>.streamCycle.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.streaming.options.timeout);
        }.bind(<span class="hljs-keyword">this</span>));
};</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p><strong>Stop streaming</strong></p>
<p>This will stop streaming AND reset array of seen tweet ids. Next time you start streaming from the same page,
you might see duplicate tweets.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Client.prototype.stopStream = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.streaming.status = <span class="hljs-string">'stopped'</span>;
    <span class="hljs-keyword">this</span>.streaming.seenTweetIds = [];

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.streaming.streamInterval) {
        <span class="hljs-keyword">this</span>.streaming.streamInterval = clearInterval(<span class="hljs-keyword">this</span>.streaming.streamInterval);
    }
};

<span class="hljs-built_in">module</span>.exports = Client;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
